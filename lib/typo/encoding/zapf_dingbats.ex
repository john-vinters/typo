#
# (c) Copyright 2025, John Vinters <john.vinters@gmail.com>
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

defmodule Typo.Encoding.ZapfDingbats do
  @moduledoc false

  @opaque unicode_to_zd :: %{optional(binary()) => binary()}

  @u_to_zd_map %{
    "\u0020" => <<0x20::8>>,
    "\u2701" => <<0x21::8>>,
    "\u2702" => <<0x22::8>>,
    "\u2703" => <<0x23::8>>,
    "\u2704" => <<0x24::8>>,
    "\u260E" => <<0x25::8>>,
    "\u2706" => <<0x26::8>>,
    "\u2707" => <<0x27::8>>,
    "\u2708" => <<0x28::8>>,
    "\u2709" => <<0x29::8>>,
    "\u261B" => <<0x2A::8>>,
    "\u261E" => <<0x2B::8>>,
    "\u270C" => <<0x2C::8>>,
    "\u270D" => <<0x2D::8>>,
    "\u270E" => <<0x2E::8>>,
    "\u270F" => <<0x2F::8>>,
    "\u2710" => <<0x30::8>>,
    "\u2711" => <<0x31::8>>,
    "\u2712" => <<0x32::8>>,
    "\u2713" => <<0x33::8>>,
    "\u2714" => <<0x34::8>>,
    "\u2715" => <<0x35::8>>,
    "\u2716" => <<0x36::8>>,
    "\u2717" => <<0x37::8>>,
    "\u2718" => <<0x38::8>>,
    "\u2719" => <<0x39::8>>,
    "\u271A" => <<0x3A::8>>,
    "\u271B" => <<0x3B::8>>,
    "\u271C" => <<0x3C::8>>,
    "\u271D" => <<0x3D::8>>,
    "\u271E" => <<0x3E::8>>,
    "\u271F" => <<0x3F::8>>,
    "\u2720" => <<0x40::8>>,
    "\u2721" => <<0x41::8>>,
    "\u2722" => <<0x42::8>>,
    "\u2723" => <<0x43::8>>,
    "\u2724" => <<0x44::8>>,
    "\u2725" => <<0x45::8>>,
    "\u2726" => <<0x46::8>>,
    "\u2727" => <<0x47::8>>,
    "\u2605" => <<0x48::8>>,
    "\u2729" => <<0x49::8>>,
    "\u272A" => <<0x4A::8>>,
    "\u272B" => <<0x4B::8>>,
    "\u272C" => <<0x4C::8>>,
    "\u272D" => <<0x4D::8>>,
    "\u272E" => <<0x4E::8>>,
    "\u272F" => <<0x4F::8>>,
    "\u2730" => <<0x50::8>>,
    "\u2731" => <<0x51::8>>,
    "\u2732" => <<0x52::8>>,
    "\u2733" => <<0x53::8>>,
    "\u2734" => <<0x54::8>>,
    "\u2735" => <<0x55::8>>,
    "\u2736" => <<0x56::8>>,
    "\u2737" => <<0x57::8>>,
    "\u2738" => <<0x58::8>>,
    "\u2739" => <<0x59::8>>,
    "\u273A" => <<0x5A::8>>,
    "\u273B" => <<0x5B::8>>,
    "\u273C" => <<0x5C::8>>,
    "\u273D" => <<0x5D::8>>,
    "\u273E" => <<0x5E::8>>,
    "\u273F" => <<0x5F::8>>,
    "\u2740" => <<0x60::8>>,
    "\u2741" => <<0x61::8>>,
    "\u2742" => <<0x62::8>>,
    "\u2743" => <<0x63::8>>,
    "\u2744" => <<0x64::8>>,
    "\u2745" => <<0x65::8>>,
    "\u2746" => <<0x66::8>>,
    "\u2747" => <<0x67::8>>,
    "\u2748" => <<0x68::8>>,
    "\u2749" => <<0x69::8>>,
    "\u274A" => <<0x6A::8>>,
    "\u274B" => <<0x6B::8>>,
    "\u25CF" => <<0x6C::8>>,
    "\u274D" => <<0x6D::8>>,
    "\u25A0" => <<0x6E::8>>,
    "\u274F" => <<0x6F::8>>,
    "\u2750" => <<0x70::8>>,
    "\u2751" => <<0x71::8>>,
    "\u2752" => <<0x72::8>>,
    "\u25B2" => <<0x73::8>>,
    "\u25BC" => <<0x74::8>>,
    "\u25C6" => <<0x75::8>>,
    "\u2756" => <<0x76::8>>,
    "\u25D7" => <<0x77::8>>,
    "\u2758" => <<0x78::8>>,
    "\u2759" => <<0x79::8>>,
    "\u275A" => <<0x7A::8>>,
    "\u275B" => <<0x7B::8>>,
    "\u275C" => <<0x7C::8>>,
    "\u275D" => <<0x7D::8>>,
    "\u275E" => <<0x7E::8>>,
    "\u2768" => <<0x80::8>>,
    "\u2769" => <<0x81::8>>,
    "\u276A" => <<0x82::8>>,
    "\u276B" => <<0x83::8>>,
    "\u276C" => <<0x84::8>>,
    "\u276D" => <<0x85::8>>,
    "\u276E" => <<0x86::8>>,
    "\u276F" => <<0x87::8>>,
    "\u2770" => <<0x88::8>>,
    "\u2771" => <<0x89::8>>,
    "\u2772" => <<0x8A::8>>,
    "\u2773" => <<0x8B::8>>,
    "\u2774" => <<0x8C::8>>,
    "\u2775" => <<0x8D::8>>,
    "\u2761" => <<0xA1::8>>,
    "\u2762" => <<0xA2::8>>,
    "\u2763" => <<0xA3::8>>,
    "\u2764" => <<0xA4::8>>,
    "\u2765" => <<0xA5::8>>,
    "\u2766" => <<0xA6::8>>,
    "\u2767" => <<0xA7::8>>,
    "\u2663" => <<0xA8::8>>,
    "\u2666" => <<0xA9::8>>,
    "\u2665" => <<0xAA::8>>,
    "\u2660" => <<0xAB::8>>,
    "\u2460" => <<0xAC::8>>,
    "\u2461" => <<0xAD::8>>,
    "\u2462" => <<0xAE::8>>,
    "\u2463" => <<0xAF::8>>,
    "\u2464" => <<0xB0::8>>,
    "\u2465" => <<0xB1::8>>,
    "\u2466" => <<0xB2::8>>,
    "\u2467" => <<0xB3::8>>,
    "\u2468" => <<0xB4::8>>,
    "\u2469" => <<0xB5::8>>,
    "\u2776" => <<0xB6::8>>,
    "\u2777" => <<0xB7::8>>,
    "\u2778" => <<0xB8::8>>,
    "\u2779" => <<0xB9::8>>,
    "\u277A" => <<0xBA::8>>,
    "\u277B" => <<0xBB::8>>,
    "\u277C" => <<0xBC::8>>,
    "\u277D" => <<0xBD::8>>,
    "\u277E" => <<0xBE::8>>,
    "\u277F" => <<0xBF::8>>,
    "\u2780" => <<0xC0::8>>,
    "\u2781" => <<0xC1::8>>,
    "\u2782" => <<0xC2::8>>,
    "\u2783" => <<0xC3::8>>,
    "\u2784" => <<0xC4::8>>,
    "\u2785" => <<0xC5::8>>,
    "\u2786" => <<0xC6::8>>,
    "\u2787" => <<0xC7::8>>,
    "\u2788" => <<0xC8::8>>,
    "\u2789" => <<0xC9::8>>,
    "\u278A" => <<0xCA::8>>,
    "\u278B" => <<0xCB::8>>,
    "\u278C" => <<0xCC::8>>,
    "\u278D" => <<0xCD::8>>,
    "\u278E" => <<0xCE::8>>,
    "\u278F" => <<0xCF::8>>,
    "\u2790" => <<0xD0::8>>,
    "\u2791" => <<0xD1::8>>,
    "\u2792" => <<0xD2::8>>,
    "\u2793" => <<0xD3::8>>,
    "\u2794" => <<0xD4::8>>,
    "\u2192" => <<0xD5::8>>,
    "\u2194" => <<0xD6::8>>,
    "\u2195" => <<0xD7::8>>,
    "\u2798" => <<0xD8::8>>,
    "\u2799" => <<0xD9::8>>,
    "\u279A" => <<0xDA::8>>,
    "\u279B" => <<0xDB::8>>,
    "\u279C" => <<0xDC::8>>,
    "\u279D" => <<0xDD::8>>,
    "\u279E" => <<0xDE::8>>,
    "\u279F" => <<0xDF::8>>,
    "\u27A0" => <<0xE0::8>>,
    "\u27A1" => <<0xE1::8>>,
    "\u27A2" => <<0xE2::8>>,
    "\u27A3" => <<0xE3::8>>,
    "\u27A4" => <<0xE4::8>>,
    "\u27A5" => <<0xE5::8>>,
    "\u27A6" => <<0xE6::8>>,
    "\u27A7" => <<0xE7::8>>,
    "\u27A8" => <<0xE8::8>>,
    "\u27A9" => <<0xE9::8>>,
    "\u27AA" => <<0xEA::8>>,
    "\u27AB" => <<0xEB::8>>,
    "\u27AC" => <<0xEC::8>>,
    "\u27AD" => <<0xED::8>>,
    "\u27AE" => <<0xEE::8>>,
    "\u27AF" => <<0xEF::8>>,
    "\u27B1" => <<0xF1::8>>,
    "\u27B2" => <<0xF2::8>>,
    "\u27B3" => <<0xF3::8>>,
    "\u27B4" => <<0xF4::8>>,
    "\u27B5" => <<0xF5::8>>,
    "\u27B6" => <<0xF6::8>>,
    "\u27B7" => <<0xF7::8>>,
    "\u27B8" => <<0xF8::8>>,
    "\u27B9" => <<0xF9::8>>,
    "\u27BA" => <<0xFA::8>>,
    "\u27BB" => <<0xFB::8>>,
    "\u27BC" => <<0xFC::8>>,
    "\u27BD" => <<0xFD::8>>,
    "\u27BE" => <<0xFE::8>>
  }

  @spec unicode_to_zd_map :: unicode_to_zd()
  def unicode_to_zd_map, do: @u_to_zd_map

  @doc """
  Given the Unicode grapheme, returns the ZapfDingbats encoding or `nil`
  if there is no mapping.
  """
  @spec unicode_to_zd(String.grapheme()) :: Typo.glyph() | nil
  def unicode_to_zd(grapheme) when is_binary(grapheme),
    do: Map.get(unicode_to_zd_map(), grapheme)
end
